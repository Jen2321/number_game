import random

# 導入隨機模組，用於生成隨機數字

def generate_num():
# 產生一個隨機的四位數字
    
    return ''.join(random.sample('0123456789', 4))
    # 使用random.sample來選擇不重複的四個數字



def compare_numbers(random_num, guess_num):
# 比較猜測數字和隨機數字，計算A和B的數量
    
    A = 0
    B = 0
    # 一開始將A和B的數量設置為0

    # 比較猜測的數字和隨機數字
    for i in range(4):
        if guess_num[i] == random_num[i]:  # 如果數字和位置都正確，則將A+1
            A += 1
        elif guess_num[i] in random_num:    # 如果數字正確但位置不對，將B+1
            B += 1

    return A, B

# 主程式
def main():
    # 產生一個隨機的數字
    random_num = generate_num()
    # 紀錄猜測的次數
    attempt = 0

    print("歡迎來到猜數字遊戲！")
    print("猜一個四位數字，數字不能重複")

    while True:
        # 提示使用者輸入猜測的數字
        guess_num = input("請輸入你猜測的數字：")

        # 檢查輸入是否符合條件(四位數，且不能重複或為數字以外的文字)
        if len(guess_num) != 4 or len(set(guess_num)) != 4 or not guess_num.isdigit():
            print("請輸入正確的四位數字！")
            continue

        # 猜測次數增加
        attempt += 1
        # 比較猜測數字與秘密數字，取得A和B的數量
        A, B = compare_numbers(random_num, guess_num)

        # 判斷是否猜中
        if A == 4:
            print(f"猜中了！正確答案是 {random_num}，你總共猜了 {attempt} 次。")
            break
        else:
            # 顯示A和B的數量
            print(f"{A}A{B}B")

# 執行主程式
if __name__ == "__main__":
    main()
