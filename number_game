# 導入隨機模組，用於生成隨機數字
import random

# 用於產生一個隨機的四位數字，數字不重複
def generate_number():
    # 使用random.sample來選擇不重複的四個數字
    return ''.join(random.sample('0123456789', 4))

# 比較猜測數字，計算A和B的數量
def compare_numbers(secret, guess):
    # 一開始將A和B的計數設置為0
    A = 0
    B = 0

    # 比較猜測的數字和秘密數字
    for i in range(4):
        if guess[i] == secret[i]:  # 如果數字和位置都正確，則將A+1
            A += 1
        elif guess[i] in secret:    # 如果數字正確但位置不對，將B+1
            B += 1

    return A, B

# 主程式
def main():
    # 產生一個隨機的數字
    secret_number = generate_number()
    # 紀錄猜測的次數
    attempt = 0

    print("歡迎來到猜數字遊戲！")
    print("猜一個四位數字，數字不能重複")

    while True:
        # 提示使用者輸入猜測的數字
        guess = input("請輸入你猜測的數字：")

        # 檢查輸入是否符合條件(四位數，且不能重複或為數字以外的文字)
        if len(guess) != 4 or len(set(guess)) != 4 or not guess.isdigit():
            print("請輸入正確的四位數字！")
            continue

        # 猜測次數增加
        attempt += 1
        # 比較猜測數字與秘密數字，取得A和B的數量
        A, B = compare_numbers(secret_number, guess)

        # 判斷是否猜中
        if A == 4:
            print(f"恭喜你猜中了！正確答案是 {secret_number}，你總共使用了 {attempt} 次猜測。")
            break
        else:
            # 顯示A和B的數量
            print(f"{A}A{B}B")

# 執行主程式
if __name__ == "__main__":
    main()
